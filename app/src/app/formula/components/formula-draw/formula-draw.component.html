<div *ngIf="formulaValue && formulaValue.valueinvoke">
    <div [ngSwitch]="formulaValue.valueinvoke.function.type">
        <div *ngSwitchCase="'operator'">
            <div class="param numeric-param no-highlight" draggable="true" (dragstart)="onDrag($event, formulaValue)" (dragend)="onDragEnd($event, formulaValue)" (mouseover)="onOverInput($event)" (mouseout)="onOutInput($event)">
                <span>{{toPrefixSymbol(formulaValue.valueinvoke.functionname)}}</span>
                <app-formula-draw *ngIf="formulaValue.valueinvoke.args[0].valueinvoke" [formulaValue]="formulaValue.valueinvoke.args[0]"></app-formula-draw>
                <div *ngIf="!formulaValue.valueinvoke.args[0].valueinvoke" class="param numeric-param no-highlight" draggable="true" (click)="onClickNode($event)" (drop)="onDrop($event, formulaValue.valueinvoke.args[0])" (dragover)="onDragOver($event)" (mouseover)="onOverInput($event)" (mouseout)="onOutInput($event)">{{formulaValue.valueinvoke.args[0].valuenumber}}
                    <input type="number" step="1" placeholder="0.00" class="inputedit" style="display: none;" [(ngModel)]="formulaValue.valueinvoke.args[0].valuenumber" (change)="valueChanged()" (blur)="onBlurInput($event)">
                </div>
                <span>{{toMiddleSymbol(formulaValue.valueinvoke.functionname)}}</span> 
                <app-formula-draw *ngIf="formulaValue.valueinvoke.args[1].valueinvoke" [formulaValue]="formulaValue.valueinvoke.args[1]"></app-formula-draw>
                <div *ngIf="!formulaValue.valueinvoke.args[1].valueinvoke" class="param numeric-param no-highlight" draggable="true" (click)="onClickNode($event)" (drop)="onDrop($event, formulaValue.valueinvoke.args[1])" (dragover)="onDragOver($event)" (mouseover)="onOverInput($event)" (mouseout)="onOutInput($event)">{{formulaValue.valueinvoke.args[1].valuenumber}}
                    <input type="number" step="1" placeholder="0.00" class="inputedit" style="display: none;" [(ngModel)]="formulaValue.valueinvoke.args[1].valuenumber" (change)="valueChanged()" (blur)="onBlurInput($event)">
                </div>
                <span class="remove-badge-container no-selectable hide" draggable="false" (click)="onClickRemove(formulaValue)"><i class="remove-icon no-selectable fas fa-trash-alt highligthed"></i></span>
            </div>
        </div>
        <div *ngSwitchCase="'helper'">
            <div class="param numeric-param no-highlight" draggable="true" (dragstart)="onDrag($event, formulaValue)" (dragend)="onDragEnd($event, formulaValue)" (mouseover)="onOverInput($event)" (mouseout)="onOutInput($event)">
                {{formulaValue.valueinvoke.functionname}}
                <span class="remove-badge-container no-selectable hide" draggable="false" (click)="onClickRemove(formulaValue)"><i class="remove-icon no-selectable fas fa-trash-alt highligthed"></i></span>
            </div>
        </div>
        <div *ngSwitchDefault>
            <div class="param numeric-param no-highlight" draggable="true" (dragstart)="onDrag($event, formulaValue)" (dragend)="onDragEnd($event, formulaValue)" (mouseover)="onOverInput($event)" (mouseout)="onOutInput($event)">
                Formula {{formulaValue.valueinvoke.function.name}} no implementada
                <span class="remove-badge-container no-selectable hide" draggable="false" (click)="onClickRemove(formulaValue)"><i class="remove-icon no-selectable fas fa-trash-alt highligthed"></i></span>
            </div>
        </div>
    </div>
</div>
<div *ngIf="formulaValue && formulaValue.valueinvoke == null">
    <div [ngSwitch]="formula.result">
        <div *ngSwitchCase="'number'">
            <div *ngIf="!formulaValue.valueinvoke" class="param numeric-param no-highlight" draggable="true" (click)="onClickNode($event)" (drop)="onDrop($event, formulaValue)" (dragover)="onDragOver($event)" (mouseover)="onOverInput($event)" (mouseout)="onOutInput($event)">{{formulaValue.valuenumber}}
                <input type="number" step="1" placeholder="0.00" class="inputedit" style="display: none;" [(ngModel)]="formulaValue.valuenumber" (change)="valueChanged()" (blur)="onBlurInput($event)">
            </div>
        </div>
        <div *ngSwitchCase="'boolean'">
            
        </div>
    </div>
</div>
